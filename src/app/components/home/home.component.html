<div class="container">
    <div class="bar" [class.hide]="!showSidebarOnMobile">
        <amadeus-searchbar (createNewConversationClick)="createNewConversation()"></amadeus-searchbar>
        <amadeus-conversation-preview-tab 
        *ngFor="let thread of threads" 
        [class.active]="thread.address === currentlySelectedConversationPhoneNumber"
        [thread]="thread"
        (click)="setCurrentlySelectedThread(thread);toggleSidebar()"></amadeus-conversation-preview-tab>
    </div>      
    <div class="message-container">
        <div class="header-wrapper">
            <amadeus-conversation-header [headerInfo]="conversation">
                <a class="title-messages" (click)="toggleSidebar()">Messages </a>
            </amadeus-conversation-header>
            <amadeus-settings-button></amadeus-settings-button>
        </div>
        <amadeus-loading-spinner 
            type="large" 
            *ngIf="loadingConversation"></amadeus-loading-spinner>
        <amadeus-conversation 
            [messages]="messages"
            [userPhoneNumber]="userPhoneNumber">
        </amadeus-conversation>
        <amadeus-connection-status [connected]="socketConnected"></amadeus-connection-status>
        <amadeus-response-area (sendMessage)="sendMessage($event)"></amadeus-response-area>
    </div>
</div>